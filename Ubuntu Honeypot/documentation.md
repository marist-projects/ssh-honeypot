# Simple SSH-Honeypot

## Installation & Configuration
- [ ] Pre-Install Commands
	- [ ] Login to your machine as root
	- [ ] <code>STARTING_DIRECTORY=$(pwd)</code>
	- [ ] <code>vi /etc/ssh/sshd_config</code>
	- [ ] Change the port that the machine is currently using to an dynamic port (48000, 48001, 48002, etc.)
	- [ ] <code>service ssh restart</code>
	- [ ] Be sure that the change went through by attempting to ssh into your machine with that port
		- [ ] Be sure to forward ports 22, 2222, and whatever port you changed ssh to in the step above 
- [ ] Install Dependencies
	- [ ] <code>apt-get update</code>
	- [ ] <code>apt-get install wget make zlib1g-dev libssl-dev policycoreutils</code>
- [ ] Setting Up Directory Structure
	- [ ] <code>mkdir -p /usr/local/source/openssh</code>
	- [ ] <code>mkdir /usr/local/source/openssh/openssh-22</code>
	- [ ] <code>mkdir /usr/local/source/openssh/openssh-2222</code>
	- [ ] <code>mkdir /var/log/ssh-honeypot</code>
	- [ ] <code>touch /var/log/ssh-honeypot/install-22.log</code>
	- [ ] <code>touch /var/log/ssh-honeypot/install-2222.log</code>
- [ ] Configure Tailored OpenSSH on Port 22
	- [ ] <code>wget -P /usr/local/source/openssh/openssh-22 ftp://ftp4.usa.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-7.2p1.tar.gz >> "/var/log/ssh-honeypot/install-22.log"</code>
	- [ ] <code>cd /usr/local/source/openssh/openssh-22</code>
	- [ ] <code>tar -xf /usr/local/source/openssh/openssh-22/openssh-7.2p1.tar.gz >> "/var/log/ssh-honeypot/install-22.log"</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-22/openssh-7.2p1 /usr/local/source/openssh/openssh-22/openssh-7.2p1-22</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth-passwd.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth-passwd.c.orig</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/sshd.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/sshd.c.orig</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth2-pubkey.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth2-pubkey.c.orig</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/auth-passwd.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth-passwd.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/sshd.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/sshd.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/auth2-pubkey.c /usr/local/source/openssh/openssh-22/openssh-7.2p1-22/auth2-pubkey.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/sshd_config-22 /usr/local/etc/sshd_config-22</code>
	- [ ] <code>cd /usr/local/source/openssh/openssh-22/openssh-7.2p1-22</code>
	- [ ] <code>./configure >> "/var/log/ssh-honeypot/install-22.log"</code>
	- [ ] <code>make >> "/var/log/ssh-honeypot/install-22.log"</code>
	- [ ] <code>make install >> "/var/log/ssh-honeypot/install-22.log"</code>
	- [ ] <code>cp sshd /usr/local/sbin/sshd-22</code>
	- [ ] <code>chmod a+rx sshd /usr/local/sbin/sshd-22</code>
- [ ] Configure Tailored OpenSSH on Port 2222
	- [ ] <code>wget -P /usr/local/source/openssh/openssh-2222 ftp://ftp4.usa.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-7.2p1.tar.gz >> "/var/log/ssh-honeypot/install-2222.log"</code>
	- [ ] <code>cd /usr/local/source/openssh/openssh-2222</code>
	- [ ] <code>tar -xf /usr/local/source/openssh/openssh-2222/openssh-7.2p1.tar.gz >> "/var/log/ssh-honeypot/install-2222.log"</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-2222/openssh-7.2p1 /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth-passwd.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth-passwd.c.orig</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/sshd.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/sshd.c.orig</code>
	- [ ] <code>mv /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth2-pubkey.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth2-pubkey.c.orig</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/auth-passwd-2222.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth-passwd.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/sshd.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/sshd.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/auth2-pubkey-2222.c /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222/auth2-pubkey.c</code>
	- [ ] <code>cp ${STARTING_DIRECTORY}/build/sshd_config-2222 /usr/local/etc/sshd_config-2222</code>
	- [ ] <code>cd /usr/local/source/openssh/openssh-2222/openssh-7.2p1-2222</code>
	- [ ] <code>./configure >> "/var/log/ssh-honeypot/install-2222.log"</code>
	- [ ] <code>make >> "/var/log/ssh-honeypot/install-2222.log"</code>
	- [ ] <code>cp sshd /usr/local/sbin/sshd-2222</code>
	- [ ] <code>chmod a+rx sshd /usr/local/sbin/sshd-2222</code>
- [ ] Finalize Configuration
	- [ ] <code>echo "/usr/local/sbin/sshd-22 -f /usr/local/etc/sshd_config-22 " >> /etc/rc.local</code>
	- [ ] <code>echo "/usr/local/sbin/sshd-2222 -f /usr/local/etc/sshd_config-2222 " >> /etc/rc.local</code>
	- [ ] <code>/usr/local/sbin/sshd-22 -f /usr/local/etc/sshd_config-22</code>
	- [ ] <code>/usr/local/sbin/sshd-2222 -f /usr/local/etc/sshd_config-2222</code>
